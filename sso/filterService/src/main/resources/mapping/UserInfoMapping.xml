<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hidm.sso.dao.UserInfoDao">
	<resultMap id="UserResultMap" type="com.hidm.sso.entity.UserInfo">
		<id column="id" property="id" />
        <id column="username" property="userName" />
        <id column="password" property="passWord" />
	</resultMap>
	<select id="selectUser" resultMap="UserResultMap">
		SELECT * FROM sso_user where username=#{userName}
	</select>
	
    <select id="selectUserByUsePwd" resultMap="UserResultMap">
        SELECT * FROM sso_user 
        where username=#{userInfo.userName} and password = #{userInfo.passWord}
    </select>

    <update id="updateById">
        UPDATE sso_user
        <set>
            <if test="userName != null">
                username = #{userName},
            </if>
            <if test="passWord != null">
                password = #{passWord}
            </if>
        </set>
        WHERE id=#{id}
    </update>
</mapper>